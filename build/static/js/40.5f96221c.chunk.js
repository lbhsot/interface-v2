(this["webpackJsonpinterface-v2"]=this["webpackJsonpinterface-v2"]||[]).push([[40],{2767:function(e,t,r){"use strict";r.r(t);var a=r(2),n=r(5),s=r(30),o=r(11),c=r(6),i=r(0),u=r(104),l=r(46),d=r(7),p=r(1611),b=r(483),m=r(21),f=r(44),j=r(253),O=r(24),v=r(338),C=r(22),w=r(37),x=r(1);t.default=function(){var e=Object(b.a)().t,t=Object(C.a)().chainId,r=Object(i.useState)(null),h=Object(c.a)(r,2),L=h[0],A=h[1],k=Object(f.f)().ethPrice,P=Object(O.d)(),N=Object(C.b)();return Object(i.useEffect)((function(){t&&Object(o.a)(Object(a.a)().mark((function e(){var r,o,c,i,u,l,p,b,f,O,v,C,x;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("v3"!==N){e.next=24;break}return e.next=3,Object(j.v)(m.d.utils.ANALYTICS_PAIRS_COUNT,t);case 3:if(!(r=e.sent)){e.next=22;break}return o=r.filter((function(e){return!!e})),e.prev=6,e.next=9,Object(j.m)(o.map((function(e){return e.id})),t);case 9:return c=e.sent,e.next=12,Object(d.O)(t);case 12:return i=e.sent,e.next=15,Object(d.M)();case 15:u=e.sent,A(o.map((function(e,r){var a,o=null!==(a=m.c[t][e.token0.id.toLowerCase()+"-"+e.token1.id.toLowerCase()])&&void 0!==a?a:m.c[t][e.token1.id.toLowerCase()+"-"+e.token0.id.toLowerCase()],l=o?o.map((function(e){var r,a,n=w.h[null!==(r=e.masterChefIndex)&&void 0!==r?r:0][t]?w.h[null!==(a=e.masterChefIndex)&&void 0!==a?a:0][t].toLowerCase():void 0;return{title:e.title,apr:i&&n&&i[n]&&i[n].pools&&i[n].pools[e.address.toLowerCase()]&&i[n].pools[e.address.toLowerCase()].apr?100*Number(i[n].pools[e.address.toLowerCase()].apr):0}})):[],d=o?o.map((function(e){return{title:e.title,apr:u&&u[e.address.toLowerCase()]&&u[e.address.toLowerCase()].returns&&u[e.address.toLowerCase()].returns.allTime&&u[e.address.toLowerCase()].returns.allTime.feeApr?100*Number(u[e.address.toLowerCase()].returns.allTime.feeApr):0}})):[],p=c[r].farmingApr,b=Math.max.apply(Math,[null!==p&&void 0!==p?p:0].concat(Object(s.a)(l.map((function(e){var t;return Number(null!==(t=e.apr)&&void 0!==t?t:0)}))))),f=c[r].apr,j=Math.max.apply(Math,[null!==f&&void 0!==f?f:0].concat(Object(s.a)(d.map((function(e){var t;return Number(null!==(t=e.apr)&&void 0!==t?t:0)})))));return Object(n.a)(Object(n.a)({},e),{},{apr:j,farmingApr:b,quickFarmingAPR:p,quickPoolAPR:f,gammaFarmAPRs:l,gammaPoolAPRs:d})}))),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(6),console.log(e.t0);case 22:e.next=57;break;case 24:if("v2"!==N){e.next=36;break}if(!k.price){e.next=34;break}return e.next=28,Object(d.qb)(m.d.utils.ANALYTICS_PAIRS_COUNT,t);case 28:return l=e.sent,p=l?l.map((function(e){return e.id})):[],e.next=32,Object(d.w)(p,k.price,t);case 32:(b=e.sent)&&A(b);case 34:e.next=57;break;case 36:return e.next=38,Object(j.t)(m.d.utils.ANALYTICS_PAIRS_COUNT,t);case 38:if(!(f=e.sent)){e.next=57;break}return O=f.filter((function(e){return!!e})),e.prev=41,e.next=44,Object(j.m)(O.map((function(e){return e.id})),t);case 44:return v=e.sent,e.next=47,Object(d.O)(t);case 47:return C=e.sent,e.next=50,Object(d.M)();case 50:x=e.sent,A(O.map((function(e,r){var a,o=e.isV3?null!==(a=m.c[t][e.token0.id.toLowerCase()+"-"+e.token1.id.toLowerCase()])&&void 0!==a?a:m.c[t][e.token1.id.toLowerCase()+"-"+e.token0.id.toLowerCase()]:void 0,c=o?o.map((function(e){var r,a,n=w.h[null!==(r=e.masterChefIndex)&&void 0!==r?r:0][t]?w.h[null!==(a=e.masterChefIndex)&&void 0!==a?a:0][t].toLowerCase():void 0;return{title:e.title,apr:C&&n&&C[n]&&C[n].pools&&C[n].pools[e.address.toLowerCase()]&&C[n].pools[e.address.toLowerCase()].apr?100*Number(C[n].pools[e.address.toLowerCase()].apr):0}})):[],i=o?o.map((function(e){return{title:e.title,apr:x&&x[e.address.toLowerCase()]&&x[e.address.toLowerCase()].returns&&x[e.address.toLowerCase()].returns.allTime&&x[e.address.toLowerCase()].returns.allTime.feeApr?100*Number(x[e.address.toLowerCase()].returns.allTime.feeApr):0}})):[],u=v[r].farmingApr,l=Math.max.apply(Math,[null!==u&&void 0!==u?u:0].concat(Object(s.a)(c.map((function(e){var t;return Number(null!==(t=e.apr)&&void 0!==t?t:0)}))))),d=v[r].apr,p=Math.max.apply(Math,[null!==d&&void 0!==d?d:0].concat(Object(s.a)(i.map((function(e){var t;return Number(null!==(t=e.apr)&&void 0!==t?t:0)})))));return Object(n.a)(Object(n.a)({},e),{},{apr:p,farmingApr:l,quickFarmingAPR:u,quickPoolAPR:d,gammaFarmAPRs:c,gammaPoolAPRs:i})}))),e.next=57;break;case 54:e.prev=54,e.t1=e.catch(41),console.log(e.t1);case 57:case"end":return e.stop()}}),e,null,[[6,19],[41,54]])})))()}),[k.price,N,t]),Object(i.useEffect)((function(){A(null)}),[N]),Object(i.useEffect)((function(){P(L?Object(v.a)(!0):Object(v.a)(!1))}),[L,P]),Object(x.jsxs)(u.a,{width:"100%",mb:3,children:[Object(x.jsx)("p",{children:e("allPairs")}),Object(x.jsx)(u.a,{mt:4,className:"panel",children:L?Object(x.jsx)(l.K,{data:L}):Object(x.jsx)(p.a,{variant:"rect",width:"100%",height:150})})]})}}}]);