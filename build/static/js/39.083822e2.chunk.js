(this["webpackJsonpinterface-v2"]=this["webpackJsonpinterface-v2"]||[]).push([[39],{1890:function(e,t,a){"use strict";var r=a(0),c=a(127);t.a=Object(c.a)(r.createElement("path",{d:"M5.88 4.12L13.76 12l-7.88 7.88L8 22l10-10L8 2z"}),"ArrowForwardIos")},2791:function(e,t,a){"use strict";a.r(t);var r=a(5),c=a(30),n=a(2),s=a(11),i=a(6),l=a(0),o=a(104),u=a(1610),b=a(100),j=a(1611),d=a(1890),O=a(54),h=a.n(O),m=a(335),p=a.n(m),x=a(44),f=a(7),v=a(21),C=a(46),y=a(483),N=a(1),w=function(e){var t,a,r,c=e.data,n=Object(y.a)().t,s=Object(x.g)().isV2,i={v2:[{title:n("pairs"),value:null===(t=c.pairCount)||void 0===t?void 0:t.toLocaleString("us"),percentChange:null},{title:n("24hTxs"),value:null===(a=c.oneDayTxns)||void 0===a?void 0:a.toLocaleString("us"),percentChange:null},{title:n("24hFees"),value:"$".concat(null===(r=c.oneDayVolumeUSD*v.d.utils.FEEPERCENT)||void 0===r?void 0:r.toLocaleString("us")),percentChange:null}],v3:[{title:n("24hVol"),value:"$".concat(void 0!==c.oneDayVolumeUSD?c.oneDayVolumeUSD.toLocaleString("us"):"~"),percentChange:c.volumeChangeUSD},{title:n("24hFees"),value:"$".concat(void 0===c.feesUSD?"~":c.feesUSD.toLocaleString("us")),percentChange:c.feesUSDChange},{title:n("tvl"),value:"$".concat(void 0===c.totalLiquidityUSD?"~":c.totalLiquidityUSD.toLocaleString("us")),percentChange:c.liquidityChangeUSD}]};return Object(N.jsx)(N.Fragment,{children:i[s?"v2":"v3"].map((function(e,t,a){return Object(N.jsxs)(o.a,{className:"flex items-center",mr:t===a.length-1?0:5,children:[Object(N.jsxs)("small",{children:[e.title,": ",e.value]}),null!==e.percentChange?Object(N.jsx)(o.a,{ml:2,className:"priceChangeWrapper ".concat(Object(f.bb)(Number(e.percentChange))),children:Object(N.jsx)("small",{children:"".concat(e.percentChange?Object(f.K)(Number(e.percentChange)):"~%")})}):null]},t)}))})},g=a(253),D=a(22);h.a.extend(p.a);var S=function(e){var t,a=e.globalData,r=e.setDataLoaded,u=Object(y.a)().t,b=Object(l.useState)(v.d.analyticChart.ONE_MONTH_CHART),d=Object(i.a)(b,2),O=d[0],m=d[1],p=Object(l.useState)(null),x=Object(i.a)(p,2),w=x[0],S=x[1],k=Object(D.a)().chainId,T=Object(D.b)();Object(l.useEffect)((function(){k&&function(){var e=Object(s.a)(Object(n.a)().mark((function e(){var t;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:S(null),r(!1),t=O===v.d.analyticChart.ALL_CHART?0:Object(f.A)(O),("v2"===T?Object(f.y)(t,k):"total"===T?Object(g.d)(t,k):Object(g.e)(t,k)).then((function(e){var t=Object(i.a)(e,1)[0];if(r(!0),t){var a=Object(f.S)(t,v.d.analyticChart.CHART_COUNT);S(a)}}));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[O,T,k]);var A=Object(f.bb)(a?Number(a.liquidityChangeUSD):0),L=Object(l.useMemo)((function(){if(w){var e=w.map((function(e){return Number(e.totalLiquidityUSD)})),t=Math.floor(Math.min.apply(Math,Object(c.a)(e))),a=Math.ceil(Math.max.apply(Math,Object(c.a)(e))),r=[],n=(a-t)/10;if(n>0)for(var s=a;s>=t;s-=n)r.push(Math.floor(s));else r.push(t);return r}}),[w]);return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)(o.a,{className:"flex justify-between",children:[Object(N.jsx)("span",{className:"text-disabled text-bold text-uppercase",children:u("liquidity")}),Object(N.jsx)(C.l,{typeTexts:v.e.analytics.CHART_DURATION_TEXTS,chartTypes:v.e.analytics.CHART_DURATIONS,chartType:O,setChartType:m})]}),a?Object(N.jsxs)(o.a,{mt:.5,className:"flex items-center",children:[Object(N.jsxs)("h5",{children:["$",Object(f.l)(a.totalLiquidityUSD)]}),Object(N.jsx)(o.a,{ml:1,height:23,px:1,borderRadius:40,className:A,children:Object(N.jsx)("span",{children:Object(f.K)(null!==(t=a.liquidityChangeUSD)&&void 0!==t?t:0)})})]}):Object(N.jsx)(o.a,{my:.5,children:Object(N.jsx)(j.a,{variant:"rect",width:"100%",height:24})}),Object(N.jsx)(o.a,{children:Object(N.jsx)("span",{className:"text-disabled",children:h.a.utc().format("MMM DD, YYYY")})}),Object(N.jsx)(o.a,{mt:2,children:w?Object(N.jsx)(C.f,{data:w.map((function(e){return Number(e.totalLiquidityUSD)})),strokeColor:"v2"===T?"#00dced":"#3e92fe",gradientColor:"v2"===T?void 0:"#448aff",yAxisValues:L,dates:w.map((function(e){return e.date})),width:"100%",height:250,categories:Object(f.z)(w,O)}):Object(N.jsx)(j.a,{variant:"rect",width:"100%",height:223})})]})},k=function(e){var t=e.globalData,a=e.setDataLoaded,r=Object(y.a)().t,c=[0,1],u=[r("dayAbb"),r("weekAbb")],b=Object(l.useState)(0),d=Object(i.a)(b,2),O=d[0],h=d[1],m=Object(l.useState)(v.d.analyticChart.ONE_MONTH_CHART),p=Object(i.a)(m,2),x=p[0],w=p[1],S=Object(l.useState)(-1),k=Object(i.a)(S,2),T=k[0],A=k[1],L=Object(l.useState)(null),M=Object(i.a)(L,2),U=M[0],P=M[1],R=Object(D.a)().chainId,_=Object(D.b)();Object(l.useEffect)((function(){R&&function(){var e=Object(s.a)(Object(n.a)().mark((function e(){var t;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:P(null),a(!1),t=x===v.d.analyticChart.ALL_CHART?0:Object(f.A)(x),("v2"===_?Object(f.y)(t,R):"total"===_?Object(g.d)(t,R):Object(g.e)(t,R)).then((function(e){var t=Object(i.a)(e,2),r=t[0],c=t[1];if(a(!0),r&&c){var n=Object(f.S)(r,v.d.analyticChart.CHART_COUNT),s=Object(f.S)(c,v.d.analyticChart.CHART_COUNT);P({day:n,week:s})}}));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[x,_,R]);var Y=Object(l.useMemo)((function(){if(U){var e=[];return U.week.forEach((function(t,a){var r=Object(f.m)(Number(t.date),"MMM");if((a>0?Object(f.m)(Number(U.week[a-1].date),"MMM"):"")!==r&&e.push(r),x===v.d.analyticChart.ONE_MONTH_CHART||x===v.d.analyticChart.THREE_MONTH_CHART){var c=Object(f.m)(Number(t.date),"D");Number(c)%2===0&&e.push(c)}})),e}return[]}),[U,x]),E=function(e){if(U&&T>0){var a=[U.day,U.week][e];if(!a||a.length<=1)return 0;var r=Math.min(T,a.length-1),c=a[r],n=a[r-1],s=0,i=0;switch(e){case 1:s=c.weeklyVolumeUSD,i=n.weeklyVolumeUSD;break;case 0:s=c.dailyVolumeUSD,i=n.dailyVolumeUSD}return i<=0?0:s/i*100-100}if(!t||-1!==T)return 0;switch(e){case 1:return t.weeklyVolumeChange;case 0:return t.volumeChangeUSD;default:return 0}},I=Object(l.useMemo)((function(){if(T>-1){if(0===O)return Object(f.m)(Number(U.day[T].date),"MMM DD, YYYY");var e=Object(f.m)(Number(U.week[Math.max(0,T-1)].date),"MMM DD, YYYY",T>0?1:-6),t=Object(f.m)(Number(U.week[T].date),"MMM DD, YYYY");return"".concat(e," - ").concat(t)}return""}),[U,T,O]),V=Object(l.useMemo)((function(){return U?1===O?U.week.map((function(e){return e.weeklyVolumeUSD})):U.day.map((function(e){return e.dailyVolumeUSD})):[]}),[U,O]),H=Object(f.bb)(Number(E(O)));return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)(o.a,{children:[Object(N.jsxs)(o.a,{className:"flex justify-between",children:[Object(N.jsxs)("span",{className:"text-disabled text-bold",children:[r("volume")," ",-1===T?"(".concat(r("24hr"),")"):""]}),Object(N.jsx)(C.l,{chartTypes:c,typeTexts:u,chartType:O,setChartType:h})]}),Object(N.jsxs)(o.a,{mt:.5,className:"flex items-start",children:[U&&t?Object(N.jsxs)(o.a,{flex:1,mr:2,children:[Object(N.jsxs)(o.a,{className:"flex items-center",children:[Object(N.jsxs)("h5",{children:["$",Object(f.l)(T>-1?0===O?U.day[T].dailyVolumeUSD:U.week[T].weeklyVolumeUSD:0===O?t.oneDayVolumeUSD:t.oneWeekVolume)]}),Object(N.jsx)(o.a,{ml:1,height:23,px:1,borderRadius:40,className:H,children:Object(N.jsx)("span",{children:Object(f.K)(E(O))})})]}),Object(N.jsx)(o.a,{height:21,children:Object(N.jsx)("span",{className:"text-disabled",children:I})})]}):Object(N.jsx)(o.a,{mr:2,flex:1,children:Object(N.jsx)(j.a,{variant:"rect",width:"100%",height:24})}),Object(N.jsx)(C.l,{chartTypes:v.e.analytics.CHART_DURATIONS,typeTexts:v.e.analytics.CHART_DURATION_TEXTS,chartType:x,setChartType:w})]})]}),Object(N.jsx)(o.a,{mt:2,children:U?Object(N.jsx)(C.g,{height:200,isV3:"v2"!==_,data:V,categories:1===O?Y:Object(f.z)(U.day,x),onHover:function(e){return A(e)},onMouseLeave:function(){A(-1)}}):Object(N.jsx)(j.a,{variant:"rect",width:"100%",height:250})})]})},T=a(24),A=a(338),L=a(37);h.a.extend(p.a);t.default=function(){var e=Object(y.a)().t,t=Object(D.a)().chainId,a=Object(b.f)(),O=Object(l.useState)(null),h=Object(i.a)(O,2),m=h[0],p=h[1],M=Object(l.useState)(null),U=Object(i.a)(M,2),P=U[0],R=U[1],_=Object(l.useState)(null),Y=Object(i.a)(_,2),E=Y[0],I=Y[1],V=Object(l.useState)(!1),H=Object(i.a)(V,2),q=H[0],F=H[1],K=Object(l.useState)(!1),W=Object(i.a)(K,2),$=W[0],z=W[1],X=Object(x.f)().ethPrice,G=Object(x.i)().maticPrice,J=Object(T.d)(),B=Object(D.b)();return Object(l.useEffect)((function(){t&&(Object(s.a)(Object(n.a)().mark((function e(){var a,r,c;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("v3"!==B){e.next=7;break}return e.next=3,Object(g.g)(t);case 3:(a=e.sent)&&p(a),e.next=20;break;case 7:if("total"!==B){e.next=15;break}if(!X.price||!X.oneDayPrice){e.next=13;break}return e.next=11,Object(g.f)(X.price,X.oneDayPrice,L.G[t],t);case 11:(r=e.sent)&&p(r);case 13:e.next=20;break;case 15:if(!X.price||!X.oneDayPrice){e.next=20;break}return e.next=18,Object(f.P)(X.price,X.oneDayPrice,L.G[t],t);case 18:(c=e.sent)&&p(c);case 20:case"end":return e.stop()}}),e)})))(),Object(s.a)(Object(n.a)().mark((function e(){var a,r,c;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("v3"!==B){e.next=8;break}if(!G.price||!G.oneDayPrice){e.next=6;break}return e.next=4,Object(g.y)(G.price,G.oneDayPrice,v.d.utils.ANALYTICS_TOKENS_COUNT,t);case 4:(a=e.sent)&&R(a);case 6:e.next=21;break;case 8:if("v2"!==B){e.next=16;break}if(!X.price||!X.oneDayPrice){e.next=14;break}return e.next=12,Object(f.sb)(X.price,X.oneDayPrice,v.d.utils.ANALYTICS_TOKENS_COUNT,t);case 12:(r=e.sent)&&R(r);case 14:e.next=21;break;case 16:if(!(G.price&&G.oneDayPrice&&X.price&&X.oneDayPrice)){e.next=21;break}return e.next=19,Object(g.x)(X.price,X.oneDayPrice,G.price,G.oneDayPrice,v.d.utils.ANALYTICS_TOKENS_COUNT,t);case 19:(c=e.sent)&&R(c);case 21:case"end":return e.stop()}}),e)})))(),Object(s.a)(Object(n.a)().mark((function e(){var a,s,i,l,o,u,b,j,d,O,h;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("v3"!==B){e.next=24;break}return e.next=3,Object(g.v)(v.d.utils.ANALYTICS_PAIRS_COUNT,t);case 3:if(!(a=e.sent)){e.next=22;break}return s=a.filter((function(e){return!!e})),e.prev=6,e.next=9,Object(g.m)(s.map((function(e){return e.id})),t);case 9:return i=e.sent,e.next=12,Object(f.O)(t);case 12:return l=e.sent,e.next=15,Object(f.M)();case 15:o=e.sent,I(s.map((function(e,a){var n,s=null!==(n=v.c[t][e.token0.id.toLowerCase()+"-"+e.token1.id.toLowerCase()])&&void 0!==n?n:v.c[t][e.token1.id.toLowerCase()+"-"+e.token0.id.toLowerCase()],u=s?s.map((function(e){var a,r,c=L.h[null!==(a=e.masterChefIndex)&&void 0!==a?a:0][t]?L.h[null!==(r=e.masterChefIndex)&&void 0!==r?r:0][t].toLowerCase():void 0;return{title:e.title,apr:l&&c&&l[c]&&l[c].pools&&l[c].pools[e.address.toLowerCase()]&&l[c].pools[e.address.toLowerCase()].apr?100*Number(l[c].pools[e.address.toLowerCase()].apr):0}})):[],b=s?s.map((function(e){return{title:e.title,apr:o&&o[e.address.toLowerCase()]&&o[e.address.toLowerCase()].returns&&o[e.address.toLowerCase()].returns.allTime&&o[e.address.toLowerCase()].returns.allTime.feeApr?100*Number(o[e.address.toLowerCase()].returns.allTime.feeApr):0}})):[],j=i[a].farmingApr,d=Math.max.apply(Math,[null!==j&&void 0!==j?j:0].concat(Object(c.a)(u.map((function(e){var t;return Number(null!==(t=e.apr)&&void 0!==t?t:0)}))))),O=i[a].apr,h=Math.max.apply(Math,[null!==O&&void 0!==O?O:0].concat(Object(c.a)(b.map((function(e){var t;return Number(null!==(t=e.apr)&&void 0!==t?t:0)})))));return Object(r.a)(Object(r.a)({},e),{},{apr:h,farmingApr:d,quickFarmingAPR:j,quickPoolAPR:O,gammaFarmAPRs:u,gammaPoolAPRs:b})}))),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(6),console.log(e.t0);case 22:e.next=53;break;case 24:if("v2"!==B){e.next=32;break}if(!X.price){e.next=30;break}return e.next=28,Object(f.rb)(v.d.utils.ANALYTICS_PAIRS_COUNT,t);case 28:(u=e.sent)&&I(u);case 30:e.next=53;break;case 32:return e.next=34,Object(g.t)(v.d.utils.ANALYTICS_PAIRS_COUNT,t);case 34:if(!(b=e.sent)){e.next=53;break}return j=b.filter((function(e){return!!e})),e.prev=37,e.next=40,Object(g.m)(j.map((function(e){return e.id})),t);case 40:return d=e.sent,e.next=43,Object(f.O)(t);case 43:return O=e.sent,e.next=46,Object(f.M)();case 46:h=e.sent,I(j.map((function(e,a){var n,s=e.isV3?null!==(n=v.c[t][e.token0.id.toLowerCase()+"-"+e.token1.id.toLowerCase()])&&void 0!==n?n:v.c[t][e.token1.id.toLowerCase()+"-"+e.token0.id.toLowerCase9]:void 0,i=s?s.map((function(e){var a,r,c=L.h[null!==(a=e.masterChefIndex)&&void 0!==a?a:0][t]?L.h[null!==(r=e.masterChefIndex)&&void 0!==r?r:0][t].toLowerCase():void 0;return{title:e.title,apr:O&&c&&O[c]&&O[c].pools&&O[c].pools[e.address.toLowerCase()]&&O[c].pools[e.address.toLowerCase()].apr?100*Number(O[c].pools[e.address.toLowerCase()].apr):0}})):[],l=s?s.map((function(e){return{title:e.title,apr:h&&h[e.address.toLowerCase()]&&h[e.address.toLowerCase()].returns&&h[e.address.toLowerCase()].returns.allTime&&h[e.address.toLowerCase()].returns.allTime.feeApr?100*Number(h[e.address.toLowerCase()].returns.allTime.feeApr):0}})):[],o=d[a].farmingApr,u=Math.max.apply(Math,[null!==o&&void 0!==o?o:0].concat(Object(c.a)(i.map((function(e){var t;return Number(null!==(t=e.apr)&&void 0!==t?t:0)}))))),b=d[a].apr,j=Math.max.apply(Math,[null!==b&&void 0!==b?b:0].concat(Object(c.a)(l.map((function(e){var t;return Number(null!==(t=e.apr)&&void 0!==t?t:0)})))));return Object(r.a)(Object(r.a)({},e),{},{apr:j,farmingApr:u,quickFarmingAPR:o,quickPoolAPR:b,gammaFarmAPRs:i,gammaPoolAPRs:l})}))),e.next=53;break;case 50:e.prev=50,e.t1=e.catch(37),console.log(e.t1);case 53:case"end":return e.stop()}}),e,null,[[6,19],[37,50]])})))())}),[X.price,X.oneDayPrice,G.price,G.oneDayPrice,B,t]),Object(l.useEffect)((function(){p(null),I(null),R(null)}),[B]),Object(l.useEffect)((function(){J(m&&P&&E&&q&&$?Object(A.a)(!0):Object(A.a)(!1))}),[m,P,E,J,q,$]),Object(N.jsxs)(o.a,{width:"100%",mb:3,children:[Object(N.jsxs)(u.a,{container:!0,spacing:4,children:[Object(N.jsx)(u.a,{item:!0,xs:12,sm:12,md:6,children:Object(N.jsx)(o.a,{className:"panel",width:1,children:Object(N.jsx)(S,{globalData:m,setDataLoaded:F})})}),Object(N.jsx)(u.a,{item:!0,xs:12,sm:12,md:6,children:Object(N.jsx)(o.a,{className:"analyticsVolumeChart panel",children:Object(N.jsx)(k,{globalData:m,setDataLoaded:z})})})]}),Object(N.jsx)(o.a,{mt:4,children:Object(N.jsx)(o.a,{className:"flex flex-wrap panel",children:m?Object(N.jsx)(w,{data:m}):Object(N.jsx)(j.a,{width:"100%",height:20})})}),Object(N.jsx)(o.a,{mt:4,children:Object(N.jsxs)(o.a,{className:"flex items-center justify-between",children:[Object(N.jsx)(o.a,{className:"headingWrapper",children:Object(N.jsx)("p",{className:"weight-600",children:e("topTokens")})}),Object(N.jsxs)(o.a,{className:"cursor-pointer headingWrapper",onClick:function(){return a.push("/analytics/".concat(B,"/tokens"))},children:[Object(N.jsx)("p",{className:"weight-600",children:e("seeAll")}),Object(N.jsx)(d.a,{})]})]})}),Object(N.jsx)(o.a,{mt:3,className:"panel",children:P?Object(N.jsx)(C.X,{data:P.sort((function(e,t){return e.totalLiquidityUSD>t.totalLiquidityUSD?-1:1})).slice(0,10),showPagination:!1}):Object(N.jsx)(j.a,{variant:"rect",width:"100%",height:150})}),Object(N.jsx)(o.a,{mt:4,children:Object(N.jsxs)(o.a,{className:"flex items-center justify-between",children:[Object(N.jsx)(o.a,{className:"headingWrapper",children:Object(N.jsx)("p",{className:"weight-600",children:e("topPairs")})}),Object(N.jsxs)(o.a,{className:"cursor-pointer headingWrapper",onClick:function(){return a.push("/analytics/".concat(B,"/pairs"))},children:[Object(N.jsx)("p",{className:"weight-600",children:e("seeAll")}),Object(N.jsx)(d.a,{})]})]})}),Object(N.jsx)(o.a,{mt:3,className:"panel",children:E?Object(N.jsx)(C.K,{data:E.sort((function(e,t){var a,r;return(e.trackedReserveUSD?e.trackedReserveUSD:null!==(a=e.reserveUSD)&&void 0!==a?a:0)>(t.trackedReserveUSD?t.trackedReserveUSD:null!==(r=t.reserveUSD)&&void 0!==r?r:0)?-1:1})).slice(0,10),showPagination:!1}):Object(N.jsx)(j.a,{variant:"rect",width:"100%",height:150})})]})}}}]);